<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Dataset Generator</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .controls {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        label {
            font-weight: bold;
            color: #34495e;
            font-size: 0.9em;
        }

        input, select {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }

        button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .dataset-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            max-height: 500px;
            overflow-y: auto;
            border: 2px solid #e9ecef;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }

        th {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            font-weight: bold;
            position: sticky;
            top: 0;
        }

        tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        tr:hover {
            background-color: #e8f4fd;
            transition: background-color 0.2s;
        }

        .download-section {
            text-align: center;
            margin-top: 20px;
            padding: 20px;
            background: #f1f3f4;
            border-radius: 10px;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .stat-card {
            background: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
            min-width: 120px;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            color: #6c757d;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõçÔ∏è Customer Dataset Generator</h1>
        
        <div class="controls">
            <div class="control-group">
                <label for="numRecords">Number of Records:</label>
                <input type="number" id="numRecords" min="10" max="1000" value="100">
            </div>
            
            <div class="control-group">
                <label for="includeColumns">Include Columns:</label>
                <select id="includeColumns" multiple style="height: 80px;">
                    <option value="customer_id" selected>Customer ID</option>
                    <option value="name" selected>Name</option>
                    <option value="email" selected>Email</option>
                    <option value="age" selected>Age</option>
                    <option value="gender" selected>Gender</option>
                    <option value="city" selected>City</option>
                    <option value="annual_income" selected>Annual Income</option>
                    <option value="spending_score" selected>Spending Score</option>
                    <option value="purchase_frequency" selected>Purchase Frequency</option>
                    <option value="last_purchase_date" selected>Last Purchase Date</option>
                </select>
            </div>
            
            <button onclick="generateDataset()">Generate Dataset</button>
        </div>

        <div class="stats" id="stats" style="display: none;">
            <div class="stat-card">
                <div class="stat-number" id="totalRecords">0</div>
                <div class="stat-label">Total Records</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="avgAge">0</div>
                <div class="stat-label">Avg Age</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="avgIncome">0</div>
                <div class="stat-label">Avg Income (‚Çπ)</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="avgSpending">0</div>
                <div class="stat-label">Avg Spending Score</div>
            </div>
        </div>

        <div class="dataset-container" id="datasetContainer" style="display: none;">
            <table id="datasetTable">
                <thead id="tableHeader"></thead>
                <tbody id="tableBody"></tbody>
            </table>
        </div>

        <div class="download-section" id="downloadSection" style="display: none;">
            <button onclick="downloadCSV()">üì• Download as CSV</button>
            <button onclick="downloadJSON()">üì• Download as JSON</button>
            <button onclick="copyData()" id="copyBtn">üìã Copy Data</button>
        </div>
    </div>

    <script>
        let currentDataset = [];

        const indianNames = [
            'Amit Kumar', 'Priya Sharma', 'Rahul Singh', 'Anjali Gupta', 'Vikram Patel',
            'Sneha Agarwal', 'Arjun Yadav', 'Pooja Mishra', 'Rohit Joshi', 'Kavya Reddy',
            'Suresh Nair', 'Meera Shah', 'Karan Malhotra', 'Riya Kapoor', 'Arun Kumar',
            'Deepika Singh', 'Manish Verma', 'Shreya Pandey', 'Raj Mehta', 'Ananya Das'
        ];

        const indianCities = [
            'Mumbai', 'Delhi', 'Bangalore', 'Hyderabad', 'Chennai', 'Kolkata', 'Pune', 'Ahmedabad',
            'Jaipur', 'Lucknow', 'Kanpur', 'Nagpur', 'Indore', 'Bhopal', 'Visakhapatnam', 'Patna',
            'Vadodara', 'Ghaziabad', 'Ludhiana', 'Coimbatore', 'Kochi', 'Chandigarh', 'Mysore', 'Agra'
        ];

        function generateRandomName() {
            return indianNames[Math.floor(Math.random() * indianNames.length)];
        }

        function generateRandomEmail(name) {
            const domains = ['gmail.com', 'yahoo.com', 'hotmail.com', 'outlook.com', 'rediffmail.com'];
            const cleanName = name.toLowerCase().replace(/\s+/g, '.');
            return cleanName + Math.floor(Math.random() * 999) + '@' + domains[Math.floor(Math.random() * domains.length)];
        }

        function generateRandomCity() {
            return indianCities[Math.floor(Math.random() * indianCities.length)];
        }

        function generateRandomDate() {
            const start = new Date(2023, 0, 1);
            const end = new Date();
            const date = new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));
            return date.toISOString().split('T')[0];
        }

        function generateDataset() {
            const numRecords = parseInt(document.getElementById('numRecords').value);
            const selectedColumns = Array.from(document.getElementById('includeColumns').selectedOptions).map(option => option.value);
            
            currentDataset = [];
            
            for (let i = 1; i <= numRecords; i++) {
                const record = {};
                const name = generateRandomName();
                
                selectedColumns.forEach(column => {
                    switch(column) {
                        case 'customer_id':
                            record[column] = 'CUST' + String(i).padStart(4, '0');
                            break;
                        case 'name':
                            record[column] = name;
                            break;
                        case 'email':
                            record[column] = generateRandomEmail(name);
                            break;
                        case 'age':
                            record[column] = Math.floor(Math.random() * 50) + 18;
                            break;
                        case 'gender':
                            record[column] = Math.random() > 0.5 ? 'Male' : 'Female';
                            break;
                        case 'city':
                            record[column] = generateRandomCity();
                            break;
                        case 'annual_income':
                            record[column] = Math.floor(Math.random() * 1500000) + 250000;
                            break;
                        case 'spending_score':
                            record[column] = Math.floor(Math.random() * 100) + 1;
                            break;
                        case 'purchase_frequency':
                            record[column] = Math.floor(Math.random() * 20) + 1;
                            break;
                        case 'last_purchase_date':
                            record[column] = generateRandomDate();
                            break;
                    }
                });
                
                currentDataset.push(record);
            }
            
            displayDataset();
            updateStats();
        }

        function displayDataset() {
            const table = document.getElementById('datasetTable');
            const header = document.getElementById('tableHeader');
            const body = document.getElementById('tableBody');
            
            // Clear existing content
            header.innerHTML = '';
            body.innerHTML = '';
            
            if (currentDataset.length === 0) return;
            
            // Create header
            const headerRow = document.createElement('tr');
            Object.keys(currentDataset[0]).forEach(key => {
                const th = document.createElement('th');
                th.textContent = key.replace(/_/g, ' ').toUpperCase();
                headerRow.appendChild(th);
            });
            header.appendChild(headerRow);
            
            // Create body
            currentDataset.forEach(record => {
                const row = document.createElement('tr');
                Object.values(record).forEach(value => {
                    const td = document.createElement('td');
                    td.textContent = value;
                    row.appendChild(td);
                });
                body.appendChild(row);
            });
            
            // Show containers
            document.getElementById('datasetContainer').style.display = 'block';
            document.getElementById('downloadSection').style.display = 'block';
        }

        function updateStats() {
            document.getElementById('stats').style.display = 'flex';
            document.getElementById('totalRecords').textContent = currentDataset.length;
            
            // Calculate averages
            let totalAge = 0, totalIncome = 0, totalSpending = 0;
            let ageCount = 0, incomeCount = 0, spendingCount = 0;
            
            currentDataset.forEach(record => {
                if (record.age) {
                    totalAge += record.age;
                    ageCount++;
                }
                if (record.annual_income) {
                    totalIncome += record.annual_income;
                    incomeCount++;
                }
                if (record.spending_score) {
                    totalSpending += record.spending_score;
                    spendingCount++;
                }
            });
            
            document.getElementById('avgAge').textContent = ageCount > 0 ? Math.round(totalAge / ageCount) : 0;
            document.getElementById('avgIncome').textContent = incomeCount > 0 ? Math.round(totalIncome / incomeCount).toLocaleString() : 0;
            document.getElementById('avgSpending').textContent = spendingCount > 0 ? Math.round(totalSpending / spendingCount) : 0;
        }

        function downloadCSV() {
            if (currentDataset.length === 0) return;
            
            const headers = Object.keys(currentDataset[0]).join(',');
            const rows = currentDataset.map(record => 
                Object.values(record).map(value => 
                    typeof value === 'string' && value.includes(',') ? `"${value}"` : value
                ).join(',')
            ).join('\n');
            
            const csvContent = headers + '\n' + rows;
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'customer_dataset.csv';
            a.click();
            window.URL.revokeObjectURL(url);
        }

        function downloadJSON() {
            if (currentDataset.length === 0) return;
            
            const jsonContent = JSON.stringify(currentDataset, null, 2);
            const blob = new Blob([jsonContent], { type: 'application/json' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'customer_dataset.json';
            a.click();
            window.URL.revokeObjectURL(url);
        }

        function copyData() {
            if (currentDataset.length === 0) return;
            
            // Convert data to tab-separated format for table copying
            const headers = Object.keys(currentDataset[0])
                .map(key => key.replace(/_/g, ' ').toUpperCase())
                .join('\t');
            
            const rows = currentDataset.map(record => 
                Object.values(record).join('\t')
            ).join('\n');
            
            const tableContent = headers + '\n' + rows;
            
            // Copy to clipboard
            navigator.clipboard.writeText(tableContent).then(function() {
                // Change button text temporarily to show success
                const copyBtn = document.getElementById('copyBtn');
                const originalText = copyBtn.innerHTML;
                copyBtn.innerHTML = '‚úÖ Copied as Table!';
                copyBtn.style.background = 'linear-gradient(45deg, #28a745, #20c997)';
                
                setTimeout(function() {
                    copyBtn.innerHTML = originalText;
                    copyBtn.style.background = 'linear-gradient(45deg, #667eea, #764ba2)';
                }, 2000);
            }).catch(function(err) {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = tableContent;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                // Show success message
                const copyBtn = document.getElementById('copyBtn');
                const originalText = copyBtn.innerHTML;
                copyBtn.innerHTML = '‚úÖ Copied as Table!';
                copyBtn.style.background = 'linear-gradient(45deg, #28a745, #20c997)';
                
                setTimeout(function() {
                    copyBtn.innerHTML = originalText;
                    copyBtn.style.background = 'linear-gradient(45deg, #667eea, #764ba2)';
                }, 2000);
            });
        }

        // Generate initial dataset
        window.onload = function() {
            generateDataset();
        }
    </script>
</body>
</html>
